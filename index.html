<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>loglevel by pimterry</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>loglevel</h1>
        <p>Minimal lightweight logging for JavaScript, adding reliable log level methods to wrap any available console.log methods</p>

        <p class="view"><a href="https://github.com/pimterry/loglevel">View the Project on GitHub <small>pimterry/loglevel</small></a></p>


        <ul>
          <li><a href="https://github.com/pimterry/loglevel/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/pimterry/loglevel/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/pimterry/loglevel">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="loglevel----" class="anchor" href="#loglevel----" aria-hidden="true"><span class="octicon octicon-link"></span></a>loglevel <a href="https://npmjs.org/package/loglevel"><img src="https://img.shields.io/npm/v/loglevel.svg?style=flat" alt="NPM Version"></a> <a href="https://travis-ci.org/pimterry/loglevel"><img src="https://travis-ci.org/pimterry/loglevel.png" alt="Build Status"></a> <a href="https://coveralls.io/r/pimterry/loglevel?branch=master"><img src="https://coveralls.io/repos/pimterry/loglevel/badge.png?branch=master" alt="Coverage Status"></a> <a href="https://david-dm.org/pimterry/loglevel#info=devDependencies&amp;view=table"><img src="https://david-dm.org/pimterry/loglevel/dev-status.png" alt="Dependency status"></a>
</h1>

<p>Minimal lightweight simple logging for JavaScript. loglevel replaces console.log() and friends with level-based logging and filtering, with none of console's downsides.</p>

<p>This is a barebones reliable everyday logging library. It does not do fancy things, it does not let you reconfigure appenders or add complex log filtering rules or boil tea (more's the pity), but it does have the all core functionality that you actually use:</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<h3>
<a id="simple" class="anchor" href="#simple" aria-hidden="true"><span class="octicon octicon-link"></span></a>Simple</h3>

<ul>
<li>Log things at a given level (trace/debug/info/warn/error) to the console object (as seen in all modern browsers &amp; node.js)</li>
<li>Filter logging by level (all the above or 'silent'), so you can disable all but error logging in production, and then run log.setLevel("trace") in your console to turn it all back on for a furious debugging session</li>
<li>Single file, no dependencies, weighs in at &lt;1KB minified and gzipped</li>
</ul>

<h3>
<a id="effective" class="anchor" href="#effective" aria-hidden="true"><span class="octicon octicon-link"></span></a>Effective</h3>

<ul>
<li>Log methods gracefully fall back to simpler console logging methods if more specific ones aren't available: so calls to log.debug() go to console.debug() if possible, or console.log() if not</li>
<li>Logging calls still succeed even if there's no console object at all, so your site doesn't break when people visit with old browsers that don't support the console object (here's looking at you IE) and similar</li>
<li>This then comes together giving a consistent reliable API that works in every JavaScript environment with a console available, and never breaks anything anywhere else</li>
</ul>

<h3>
<a id="convenient" class="anchor" href="#convenient" aria-hidden="true"><span class="octicon octicon-link"></span></a>Convenient</h3>

<ul>
<li>Log output keeps line numbers: most JS logging frameworks call console.log methods through wrapper functions, clobbering your stacktrace and making the extra info many browsers provide useless. We'll have none of that thanks.</li>
<li>It works with all the standard JavaScript loading systems out of the box (CommonJS, AMD, or just as a global)</li>
<li>Logging is filtered to "warn" level by default, to keep your live site clean in normal usage (or you can trivially re-enable everything with an initial log.enableAll() call)</li>
<li>Magically handles situations where console logging is not initially available (IE8/9), and automatically enables logging as soon as it does become available (when developer console is opened)</li>
<li>Extensible, to add other log redirection, filtering, or formatting functionality, while keeping all the above (except you will clobber your stacktrace, see Plugins below)</li>
</ul>

<h2>
<a id="downloading-loglevel" class="anchor" href="#downloading-loglevel" aria-hidden="true"><span class="octicon octicon-link"></span></a>Downloading loglevel</h2>

<p>If you're using NPM, you can just run <code>npm install loglevel</code>.</p>

<p>Alternatively, loglevel is also available via <a href="https://github.com/bower/bower">Bower</a> (<code>bower install loglevel</code>), <a href="http://jamjs.org/packages/#/details/loglevel">JamJS</a> (<code>jam install loglevel</code>), as a <a href="http://www.webjars.org/">Webjar</a>, or an <a href="https://atmospherejs.com/spacejamio/loglevel">Atmosphere package</a> (for Meteor)</p>

<p>Alternatively if you just want to grab the file yourself, you can download either the current stable <a href="https://raw.github.com/pimterry/loglevel/master/dist/loglevel.min.js">production version</a> or the <a href="https://raw.github.com/pimterry/loglevel/master/dist/loglevel.js">development version</a> directly, or reference it remotely on CDNJS at <code>//cdnjs.cloudflare.com/ajax/libs/loglevel/1.2.0/loglevel.min.js</code></p>

<p>Finally, if you want to tweak loglevel to your own needs or you immediately need the cutting-edge version, clone this repo and see <a href="#developing--contributing">Developing &amp; Contributing</a> below for build instructions.</p>

<h2>
<a id="setting-it-up" class="anchor" href="#setting-it-up" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting it up</h2>

<p>loglevel supports AMD (e.g. RequireJS), CommonJS (e.g. Node.js) and direct usage (e.g. loading globally with a &lt;script&gt; tag) loading methods. You should be able to do nearly anything, and then skip to the next section anyway and have it work. Just in case though, here's some specific examples that definitely do the right thing:</p>

<h3>
<a id="commonsjs-eg-node" class="anchor" href="#commonsjs-eg-node" aria-hidden="true"><span class="octicon octicon-link"></span></a>CommonsJS (e.g. Node)</h3>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> log <span class="pl-k">=</span> <span class="pl-c1">require</span>(<span class="pl-s"><span class="pl-pds">'</span>loglevel<span class="pl-pds">'</span></span>);
log<span class="pl-c1">.info</span>(<span class="pl-s"><span class="pl-pds">"</span>unreasonably simple<span class="pl-pds">"</span></span>);</pre></div>

<h3>
<a id="amd-eg-requirejs" class="anchor" href="#amd-eg-requirejs" aria-hidden="true"><span class="octicon octicon-link"></span></a>AMD (e.g. RequireJS)</h3>

<div class="highlight highlight-javascript"><pre>define([<span class="pl-s"><span class="pl-pds">'</span>loglevel<span class="pl-pds">'</span></span>], <span class="pl-k">function</span>(<span class="pl-smi">log</span>) {
   log<span class="pl-c1">.warn</span>(<span class="pl-s"><span class="pl-pds">"</span>dangerously convenient<span class="pl-pds">"</span></span>);
});</pre></div>

<h3>
<a id="directly-in-your-web-page" class="anchor" href="#directly-in-your-web-page" aria-hidden="true"><span class="octicon octicon-link"></span></a>Directly in your web page:</h3>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>loglevel.min.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
<span class="pl-s1">&lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s1">log<span class="pl-c1">.error</span>(<span class="pl-s"><span class="pl-pds">"</span>too easy<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1">&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<h3>
<a id="with-noconflict" class="anchor" href="#with-noconflict" aria-hidden="true"><span class="octicon octicon-link"></span></a>With noConflict():</h3>

<p>If you're using another JavaScript library that exposes a 'log' global, you can run into conflicts with loglevel.  Similarly to jQuery, you can solve this by putting loglevel into no-conflict mode immediately after it is loaded onto the page. This resets to 'log' global to its value before loglevel was loaded (typically <code>undefined</code>), and returns the loglevel object, which you can then bind to another name yourself.</p>

<p>For example:</p>

<div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>loglevel.min.js<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt;
<span class="pl-s1">&lt;<span class="pl-ent">script</span>&gt;</span>
<span class="pl-s1"><span class="pl-k">var</span> logging <span class="pl-k">=</span> log.noConflict();</span>
<span class="pl-s1"></span>
<span class="pl-s1">logging<span class="pl-c1">.error</span>(<span class="pl-s"><span class="pl-pds">"</span>still pretty easy<span class="pl-pds">"</span></span>);</span>
<span class="pl-s1">&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<h2>
<a id="documentation" class="anchor" href="#documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Documentation</h2>

<p>The loglevel API is extremely minimal. All methods are available on the root loglevel object, which it's suggested you name 'log' (this is the default if you import it in globally, and is what's set up in the above examples). The API consists of:</p>

<ul>
<li>
<p>5 actual logging methods, ordered and available as:</p>

<ul>
<li><code>log.trace(msg)</code></li>
<li><code>log.debug(msg)</code></li>
<li><code>log.info(msg)</code></li>
<li><code>log.warn(msg)</code></li>
<li><code>log.error(msg)</code></li>
</ul>

<p>Exact output formatting of these will depend on the console available in the current context of your application. Notably, many environments will include a full stack trace with all trace() calls, and icons or similar to highlight other calls.</p>

<p>These methods should never fail in any environment, even if no console object is currently available, and should always fall back to an available log method even if the specific method called (e.g. warn) isn't available.</p>
</li>
<li>
<p>A <code>log.setLevel(level, [persist])</code> method.</p>

<p>This disables all logging below the given level, so that after a log.setLevel("warn") call log.warn("something") or log.error("something") will output messages, but log.info("something") will not.</p>

<p>This can take either a log level name or 'silent' (which disables everything) in one of a few forms:</p>

<ul>
<li>As a log level from the internal levels list, e.g. log.levels.SILENT ← <em>for type safety</em>
</li>
<li>As a string, like 'error' (case-insensitive) ← <em>for a reasonable practical balance</em>
</li>
<li>As a numeric index from 0 (trace) to 5 (silent) ← <em>deliciously terse, and more easily programmable (...although, why?)</em>
</li>
</ul>

<p>Where possible the log level will be persisted. LocalStorage will be used if available, falling back to cookies if not. If neither is available in the current environment (i.e. in Node), or if you pass <code>false</code> as the optional 'persist' second argument, persistence will be skipped.</p>

<p>If log.setLevel() is called when a console object is not available (in IE 8 or 9 before the developer tools have been opened, for example) logging will remain silent until the console becomes available, and then begin logging at the requested level.</p>
</li>
<li>
<p><code>log.enableAll()</code> and <code>log.disableAll()</code> methods.</p>

<p>These enable or disable all log messages, and are equivalent to log.setLevel("trace") and log.setLevel("silent") respectively.</p>
</li>
</ul>

<h2>
<a id="plugins" class="anchor" href="#plugins" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plugins</h2>

<h3>
<a id="existing-plugins" class="anchor" href="#existing-plugins" aria-hidden="true"><span class="octicon octicon-link"></span></a>Existing plugins:</h3>

<p>ServerSend - <a href="https://github.com/artemyarulin/loglevel-serverSend">https://github.com/artemyarulin/loglevel-serverSend</a> - Forward your log messages to a remote server</p>

<h3>
<a id="writing-plugins" class="anchor" href="#writing-plugins" aria-hidden="true"><span class="octicon octicon-link"></span></a>Writing plugins:</h3>

<p>Loglevel provides a simple reliable minimal base for console logging that works everywhere. This means it doesn't include lots of fancy functionality that might be useful in some cases, such as log formatting and redirection (e.g. also sending log messages to a server over AJAX)</p>

<p>Including that would increase the size and complexity of the library, but more importantly would remove stacktrace information. Currently log methods are either disabled, or enabled with directly bound versions of the console.log methods (where possible). This means your browser shows the log message as coming from your code at the call to <code>log.info("message!")</code> not from within loglevel, since it's really calls the bound console method directly, without indirection. The indirection required to dynamically format, further filter, or redirect log messages would stop this.</p>

<p>There's clearly enough enthusiasm for this even at that cost though that loglevel now includes a plugin API. To use it, redefine log.methodFactory(methodName, logLevel) with a function of your own. This will be called for each enabled method each time the level is set (including initially), and should return a function to be used for the given log method, at the given level. If you'd like to retain all the reliability and features of loglevel, it's recommended that this wraps the initially provided value of <code>log.methodFactory</code></p>

<p>For example, a plugin to prefix all log messages with "Newsflash: " would look like:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-k">var</span> originalFactory <span class="pl-k">=</span> log.methodFactory;
<span class="pl-c1">log</span>.<span class="pl-en">methodFactory</span> <span class="pl-k">=</span> <span class="pl-k">function</span> (<span class="pl-smi">methodName</span>, <span class="pl-smi">logLevel</span>) {
    <span class="pl-k">var</span> rawMethod <span class="pl-k">=</span> originalFactory(methodName, logLevel);

    <span class="pl-k">return</span> <span class="pl-k">function</span> (<span class="pl-smi">message</span>) {
        rawMethod(<span class="pl-s"><span class="pl-pds">"</span>Newsflash: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> message);
    };
};
log.setLevel(<span class="pl-s"><span class="pl-pds">"</span>warn<span class="pl-pds">"</span></span>); <span class="pl-c">// Be sure to call setLevel method in order to apply plugin </span></pre></div>

<p>If you develop and release a plugin, please get in contact! I'd be happy to reference it here for future users. Some consistency is helpful; naming your plugin 'loglevel-PLUGINNAME' (e.g. loglevel-newsflash) is preferred, as is giving it the 'loglevel-plugin' keyword in your package.json</p>

<h2>
<a id="developing--contributing" class="anchor" href="#developing--contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Developing &amp; Contributing</h2>

<p>In lieu of a formal styleguide, take care to maintain the existing coding style. Add unit tests for any new or changed functionality.</p>

<p>Builds can be run with grunt: run <code>grunt dist</code> to build a distributable version of the project (in /dist), or <code>grunt test</code> to just run the tests and linting. During development you can run <code>grunt watch</code> and it will monitor source files, and rerun the tests and linting as appropriate when they're changed.</p>

<p><em>Also, please don't manually edit files in the "dist" subdirectory as they are generated via Grunt. You'll find source code in the "lib" subdirectory!</em></p>

<h4>
<a id="release-process" class="anchor" href="#release-process" aria-hidden="true"><span class="octicon octicon-link"></span></a>Release process</h4>

<p>To do a release of loglevel:</p>

<ul>
<li>Update the version number in package.json and bower.json</li>
<li>Run <code>grunt dist</code> to build a distributable version in dist/</li>
<li>Update the release history in this file (below)</li>
<li>Commit the built code, tagging it with the version number and a brief message about the release</li>
<li>Push to Github</li>
<li>Run <code>npm publish .</code> to publish to NPM</li>
<li>Run <code>jam publish</code> to publish to JamJS</li>
<li>Autoupdate gh-pages docs</li>
<li>Open a pull request to <a href="https://github.com/cdnjs/cdnjs">https://github.com/cdnjs/cdnjs</a> to put the new release on the CDN</li>
</ul>

<h2>
<a id="release-history" class="anchor" href="#release-history" aria-hidden="true"><span class="octicon octicon-link"></span></a>Release History</h2>

<p>v0.1.0 - First working release with apparent compatibility with everything tested</p>

<p>v0.2.0 - Updated release with various tweaks and polish and real proper documentation attached</p>

<p>v0.3.0 - Some bugfixes (#12, #14), cookie-based log level persistence, doc tweaks, support for Bower and JamJS</p>

<p>v0.3.1 - Fixed incorrect text in release build banner, various other minor tweaks</p>

<p>v0.4.0 - Use LocalStorage for level persistence if available, compatibility improvements for IE, improved error messages, multi-environment tests</p>

<p>v0.5.0 - Fix for Modernizr+IE8 issues, improved setLevel error handling, support for auto-activation of desired logging when console eventually turns up in IE8</p>

<p>v0.6.0 - Handle logging in Safari private browsing mode (#33), fix TRACE level persistence bug (#35), plus various minor tweaks</p>

<p>v1.0.0 - Official stable release! Fixed a bug with localStorage in Android webviews, improved CommonJS detection, and added noConflict().</p>

<p>v1.1.0 - Added support for including loglevel with preprocessing and .apply() (#50), and fixed QUnit dep version which made tests potentially unstable.</p>

<p>v1.2.0 - New plugin API! Plus various bits of refactoring and tidy up, nicely simplifying things and trimming the size down.</p>

<p>v1.3.0 - Make persistence optional in setLevel, plus lots of documentation updates and other small tweaks</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>Copyright (c) 2013 Tim Perry<br>
Licensed under the MIT license.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/pimterry">pimterry</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-39782351-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
